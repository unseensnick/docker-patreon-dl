services:
  patreon-dl-gui:
    image: unseensnick/patreon-dl-gui:latest
    # build: .                     # uncomment to build locally
    container_name: patreon-dl-gui
    restart: unless-stopped

    ports:
      - "5900:5900"
      - "6080:6080"

    environment:
      - RESOLUTION=2560x1440       # 1920x1080, 2560x1440, 3840x2160
      - DPI=120                    # 96, 120, 144
      # - COLOR_DEPTH=24           # 16 (less bandwidth), 24 (full color)
      # - VNC_PASSWORD=            # empty = no password
      # - TZ=UTC                   # e.g. America/New_York, Europe/London
      # - FFMPEG_PATH=/usr/bin/ffmpeg
      # - YTDLP_PATH=/usr/local/bin/yt-dlp
      # - DENO_PATH=/usr/local/bin/deno

    volumes:
      - ./downloads:/downloads
      - ./appdata:/appdata

    security_opt:
      - seccomp:unconfined
    shm_size: '4gb'
    mem_limit: 8g
    cpus: 4.0
    networks:
      - patreon-dl-network

networks:
  patreon-dl-network:
    driver: bridge
    name: patreon-dl-network
